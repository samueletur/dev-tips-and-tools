# PHP

[Get class methods](#get-class-methods) 

# Laravel

## Eloquent

[allRelatedIds](#allRelatedIds)

[Push](#push)

[Sensitive Data](#sensitive-data) `#crypt` `#cast` `#attribute`

### **allRelatedIds**

An alternative to pluck('id'') to get all of the IDs for the related models.

```php
// instead of
$article->tags()->pluck('id')->toArray();

// you can use
$article->tags()->allRelatedIds()->toArray();
```

[ğŸ” Back to eloquent](#eloquent)

### **Get class methods**

```php
get_class_methods(mixed $class_name): array
```
[ğŸ” Back to php](#php)

### **Push**

Save the product and its relations

```php
$product = Product::find(1);

$product->name = 'New Balance Shoes';
$product->brand->name = 'New Balance';
$product->department->name = 'Men';

// Save the product and its relations
$product->push();
```

[ğŸ” Back to eloquent](#eloquent)

### **Sensitive Data**

If we want to put "sensitive" data in our DB then we can use Crypt Facade and handle these using accessors and mutators.

```php
namespace App\Models;

use Illuminate\Database\Eloquent\Model;
use Illuminate\Database\Eloquent\Cast\Attribute;
use Illuminate\Support\Facades\Crypt;

class Client extends Model
{
    protected function document(): Attribute
    {
        return Attribute::make(
            set: fn ($value) => Crypt::encryptString($value),
            get: fn ($value) => Crypt::decryptString($value),
        );
    }
}
```

[ğŸ” Back to eloquent](#eloquent)



